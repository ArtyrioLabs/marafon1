# üìã –ó–∞–≤–¥–∞–Ω–Ω—è: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SSL/TLS —á–µ—Ä–µ–∑ AWS Certificate Manager (ACM)

## üéØ –ú–µ—Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –¥–æ–º–µ–Ω–Ω–µ —ñ–º'—è –∑ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–º —Ö–æ—Å—Ç–∏–Ω–≥–æ–º, —è–∫–∏–π –ø—ñ–¥—Ç—Ä–∏–º—É—î –ø—Ä–æ—Ç–æ–∫–æ–ª ACME
2. –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ SSL/TLS-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –¥–ª—è –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ–≥–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ —ñ–º–µ–Ω—ñ –≤ ACM
3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–æ–Ω—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ DNS –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—ó –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ —Ç—Ä–∞—Ñ—ñ–∫—É –¥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

---

## üìù –ö—Ä–æ–∫ 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é ACME

### –í–∞—Ä—ñ–∞–Ω—Ç 1: Freenom (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ - –Ω–∞–π—à–≤–∏–¥—à–µ) ‚≠ê

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –®–≤–∏–¥–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (5-10 —Ö–≤–∏–ª–∏–Ω)
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î –∑–º—ñ–Ω—É nameservers (–¥–ª—è Route53)
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î DNS validation –¥–ª—è ACM
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –¥–æ 12 –º—ñ—Å—è—Ü—ñ–≤

**–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:**

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [freenom.com](https://www.freenom.com)
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç –∞–±–æ —É–≤—ñ–π–¥—ñ—Ç—å
3. –í–≤–µ–¥—ñ—Ç—å –±–∞–∂–∞–Ω–µ —ñ–º'—è –¥–æ–º–µ–Ω—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `secretnick`)
4. –û–±–µ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—É –∑–æ–Ω—É:
   - `.tk` (–¢–æ–∫–µ–ª–∞—É) - –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∞
   - `.ml` (–ú–∞–ª—ñ)
   - `.ga` (–ì–∞–±–æ–Ω)
   - `.cf` (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–∞—Ñ—Ä–∏–∫–∞–Ω—Å—å–∫–∞ –†–µ—Å–ø—É–±–ª—ñ–∫–∞)
   - `.gq` (–ï–∫–≤–∞—Ç–æ—Ä—ñ–∞–ª—å–Ω–∞ –ì–≤—ñ–Ω–µ—è)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Get it now!"**
6. –û–±–µ—Ä—ñ—Ç—å –ø–µ—Ä—ñ–æ–¥: **12 Months @ FREE**
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Continue"** —Ç–∞ –∑–∞–≤–µ—Ä—à—ñ—Ç—å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –¥–æ–º–µ–Ω, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `secretnick.tk`

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: eu.org (–ù–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π, –∞–ª–µ –¥–æ–≤—à–µ)

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ù–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–∏–π –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ–º–µ–Ω
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î –∑–º—ñ–Ω—É nameservers
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î DNS validation –¥–ª—è ACM
- ‚úÖ –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –Ω–∞–∑–∞–≤–∂–¥–∏

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚è±Ô∏è –†–æ–∑–≥–ª—è–¥ –∑–∞—è–≤–∫–∏: 1-3 –¥–Ω—ñ

**–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:**

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [nic.eu.org](https://nic.eu.org)
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç
3. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ subdomain (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `secretnick.eu.org`)
4. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (1-3 –¥–Ω—ñ)
5. –ü—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –æ—Ç—Ä–∏–º–∞—î—Ç–µ –¥–æ–º–µ–Ω

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –¥–æ–º–µ–Ω, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `secretnick.eu.org`

---

### –í–∞—Ä—ñ–∞–Ω—Ç 3: afraid.org (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [freedns.afraid.org](https://freedns.afraid.org)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç
3. –û–±–µ—Ä—ñ—Ç—å –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ–º–µ–Ω –∑—ñ —Å–ø–∏—Å–∫—É
4. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ subdomain

---

## üîß –ö—Ä–æ–∫ 2: –û–Ω–æ–≤–ª–µ–Ω–Ω—è Terraform –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó

### 2.1 –û–Ω–æ–≤—ñ—Ç—å `terraform/terraform.tfvars`

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª `terraform/terraform.tfvars` —Ç–∞ –æ–Ω–æ–≤—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

```hcl
################################################################################
# DNS and SSL/TLS configuration
################################################################################

# Enable HTTPS with SSL/TLS certificate
enable_https = true

# –í–∞—à –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –¥–æ–º–µ–Ω (–∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à!)
domain_name = "secretnick.tk"  # –ê–ë–û secretnick.eu.org

# –°—Ç–≤–æ—Ä–∏—Ç–∏ Route53 hosted zone (true –¥–ª—è Freenom/eu.org)
create_route53_zone = true

# –î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–æ–º–µ–Ω–∏ –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
subject_alternative_names = ["www.secretnick.tk"]

# –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —ñ—Å–Ω—É—é—á—É Route53 –∑–æ–Ω—É, –≤–∫–∞–∂—ñ—Ç—å zone_id:
# route53_zone_id = "Z0123456789ABCDEFGHIJ"
```

**–í–∞–∂–ª–∏–≤–æ:**
- –ó–∞–º—ñ–Ω—ñ—Ç—å `secretnick.tk` –Ω–∞ –≤–∞—à –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –¥–æ–º–µ–Ω
- –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å `create_route53_zone = true` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Route53 –∑–æ–Ω–∏

---

## üöÄ –ö—Ä–æ–∫ 3: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ ACM —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–æ–º

### 3.1 –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Terraform

```powershell
cd terraform
terraform init
```

### 3.2 –ü–µ—Ä–µ–≥–ª—è–¥ –ø–ª–∞–Ω—É —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

```powershell
terraform plan
```

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ —Ä–µ—Å—É—Ä—Å–∏, —è–∫—ñ –±—É–¥—É—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω—ñ:
- ‚úÖ Route53 Hosted Zone
- ‚úÖ ACM Certificate (–∑ DNS validation)
- ‚úÖ Route53 DNS validation records (CNAME)
- ‚úÖ Route53 A record (Alias –¥–æ ALB)
- ‚úÖ HTTPS listener –Ω–∞ ALB (–ø–æ—Ä—Ç 443)
- ‚úÖ HTTP ‚Üí HTTPS redirect

### 3.3 –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω

```powershell
terraform apply
```

–ü—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –≤–≤–æ–¥–æ–º `yes`.

‚è±Ô∏è **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ü—Ä–æ—Ü–µ—Å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ ACM –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 5-30 —Ö–≤–∏–ª–∏–Ω.

### 3.4 –û—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å

```powershell
terraform output
```

**–ó–±–µ—Ä–µ–∂—ñ—Ç—å –Ω–∞—Å—Ç—É–ø–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:**

```powershell
# Name Servers –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä—ñ –¥–æ–º–µ–Ω—É
route53_name_servers = [
  "ns-123.awsdns-12.com",
  "ns-456.awsdns-45.net",
  "ns-789.awsdns-78.org",
  "ns-012.awsdns-01.co.uk"
]

# ARN —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ ACM
certificate_arn = "arn:aws:acm:eu-central-1:123456789012:certificate/xxx-yyy-zzz"

# URL –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –∑ HTTPS
application_url = "https://secretnick.tk"
```

---

## üåê –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Name Servers —É —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω—É

### –î–ª—è Freenom:

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ [Freenom Client Area](https://my.freenom.com/clientarea.php)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Services** ‚Üí **My Domains**
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Manage Domain** –¥–ª—è –≤–∞—à–æ–≥–æ –¥–æ–º–µ–Ω—É
4. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Management Tools** ‚Üí **Nameservers**
5. –û–±–µ—Ä—ñ—Ç—å **Use custom nameservers**
6. –í–≤–µ–¥—ñ—Ç—å 4 Name Servers –∑ terraform output:
   ```
   ns-123.awsdns-12.com
   ns-456.awsdns-45.net
   ns-789.awsdns-78.org
   ns-012.awsdns-01.co.uk
   ```
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Change Nameservers**

### –î–ª—è eu.org:

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ –ø–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è [eu.org](https://nic.eu.org)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –≤–∞—à–æ–≥–æ –¥–æ–º–µ–Ω—É
3. –ó–Ω–∞–π–¥—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª **Nameservers** –∞–±–æ **DNS**
4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Name Servers –∑ terraform output
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –∑–º—ñ–Ω–∏

‚è±Ô∏è **–ß–∞—Å propagation:** DNS –∑–º—ñ–Ω–∏ –º–æ–∂—É—Ç—å –∑–∞–π–Ω—è—Ç–∏ –≤—ñ–¥ 5 —Ö–≤–∏–ª–∏–Ω –¥–æ 48 –≥–æ–¥–∏–Ω –¥–ª—è –ø–æ–≤–Ω–æ—ó propagation –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É (–∑–∞–∑–≤–∏—á–∞–π 1-2 –≥–æ–¥–∏–Ω–∏).

---

## ‚úÖ –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ —Ç–∞ HTTPS

### 5.1 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –≤ AWS Console

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [AWS Certificate Manager Console](https://console.aws.amazon.com/acm)
2. –û–±–µ—Ä—ñ—Ç—å —Ä–µ–≥—ñ–æ–Ω: **eu-central-1** (–∞–±–æ –≤–∞—à —Ä–µ–≥—ñ–æ–Ω)
3. –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –¥–ª—è –¥–æ–º–µ–Ω—É `secretnick.tk`
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ —Å—Ç–∞—Ç—É—Å: **Issued** ‚úÖ

**–Ø–∫—â–æ —Å—Ç–∞—Ç—É—Å "Pending validation":**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ Name Servers –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ —É —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å DNS propagation (5-30 —Ö–≤–∏–ª–∏–Ω)
- ACM –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å DNS validation records

### 5.2 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ DNS propagation

```powershell
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Name Servers
nslookup -type=NS secretnick.tk

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ A –∑–∞–ø–∏—Å—É (–ø–æ–≤–∏–Ω–µ–Ω –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ ALB)
nslookup secretnick.tk
```

**–û–Ω–ª–∞–π–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:**
- https://dnschecker.org/#NS/secretnick.tk
- https://www.whatsmydns.net/#NS/secretnick.tk

### 5.3 –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è HTTPS –∑'—î–¥–Ω–∞–Ω–Ω—è

#### –í –±—Ä–∞—É–∑–µ—Ä—ñ:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `https://secretnick.tk`
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å **–∑–∞–º–∫–∞** üîí –≤ –∞–¥—Ä–µ—Å–Ω–æ–º—É —Ä—è–¥–∫—É
3. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∑–∞–º–æ–∫ ‚Üí **"–°–≤–µ–¥–µ–Ω–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ"** (Certificate details)
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ:
   - ‚úÖ –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –≤–∏–¥–∞–Ω–∏–π **Amazon**
   - ‚úÖ –î–æ–º–µ–Ω: `secretnick.tk`
   - ‚úÖ –°—Ç–∞—Ç—É—Å: **–í–∞–ª–∏–¥–Ω–∏–π** (Valid)

#### –ó –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞:

```powershell
# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
curl -v https://secretnick.tk

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–¥—ñ—Ä–µ–∫—Ç—É HTTP ‚Üí HTTPS
curl -I http://secretnick.tk
# –ü–æ–≤–∏–Ω–µ–Ω –ø–æ–≤–µ—Ä–Ω—É—Ç–∏: 301 Moved Permanently ‚Üí https://secretnick.tk
```

### 5.4 –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ SSL Labs

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [SSL Labs Server Test](https://www.ssllabs.com/ssltest/)
2. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à –¥–æ–º–µ–Ω: `secretnick.tk`
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–µ—Å—Ç—É (2-3 —Ö–≤–∏–ª–∏–Ω–∏)
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å –≤ —Ä–µ–π—Ç–∏–Ω–≥—É **A** –∞–±–æ **A+**

---

## üìä –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ä—ñ—à–µ–Ω–Ω—è

```
[–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á]
    ‚Üì HTTPS (443)
[–î–æ–º–µ–Ω: secretnick.tk]
    ‚Üì DNS –∑–∞–ø–∏—Ç
[Route53 Hosted Zone]
    ‚Üì A record (Alias)
[Application Load Balancer]
    ‚Üì SSL/TLS termination (—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –∑ ACM)
    ‚Üì HTTP (80/8080 internal)
[EC2 Instances: React / Angular / Backend]
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:**
1. **Route53 Hosted Zone** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è DNS
2. **ACM Certificate** - SSL/TLS —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –∑ DNS validation
3. **Route53 Validation Records** - CNAME –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞
4. **ALB HTTPS Listener** - –ø—Ä–∏–π–º–∞—î HTTPS —Ç—Ä–∞—Ñ—ñ–∫ –Ω–∞ –ø–æ—Ä—Ç—É 443
5. **ALB HTTP Listener** - —Ä–µ–¥—ñ—Ä–µ–∫—Ç HTTP ‚Üí HTTPS

---

## üîç Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ —Å—Ç–∞—Ç—É—Å—ñ "Pending validation"

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ DNS records –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ Route53:
   ```powershell
   aws route53 list-resource-record-sets \
     --hosted-zone-id Z0123... \
     --query "ResourceRecordSets[?Type=='CNAME']"
   ```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ Name Servers –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ —É —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
   ```powershell
   nslookup -type=NS secretnick.tk
   ```
   –ü–æ–≤–∏–Ω–Ω—ñ –∑–±—ñ–≥–∞—Ç–∏—Å—è –∑ terraform output

3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å DNS propagation (–¥–æ 48 –≥–æ–¥–∏–Ω, –∑–∞–∑–≤–∏—á–∞–π 1-2 –≥–æ–¥–∏–Ω–∏)

4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:
   - https://dnschecker.org/#CNAME/secretnick.tk

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–º–µ–Ω –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—å—Å—è

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Name Servers:
   ```powershell
   nslookup -type=NS secretnick.tk
   ```

2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ Name Servers –≤ —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä—ñ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å –∑ Route53 output

3. –ü–æ—á–µ–∫–∞–π—Ç–µ –ø–æ–≤–Ω–æ—ó DNS propagation (1-2 –≥–æ–¥–∏–Ω–∏)

### –ü—Ä–æ–±–ª–µ–º–∞: HTTPS –Ω–µ –ø—Ä–∞—Ü—é—î, –∞–ª–µ HTTP –ø—Ä–∞—Ü—é—î

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø–æ—Ä—Ç 443 –≤—ñ–¥–∫—Ä–∏—Ç–∏–π –≤ Security Group ALB:
   ```powershell
   aws ec2 describe-security-groups \
     --filters "Name=group-name,Values=app-alb-sg" \
     --query "SecurityGroups[0].IpPermissions[?FromPort==\`443\`]"
   ```

2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ HTTPS listener —Å—Ç–≤–æ—Ä–µ–Ω–æ:
   - AWS Console ‚Üí EC2 ‚Üí Load Balancers ‚Üí –≤–∞—à ALB ‚Üí Listeners
   - –ü–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ listener –Ω–∞ –ø–æ—Ä—Ç—É 443 –∑ —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–æ–º

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞ –≤ ACM Console

### –ü—Ä–æ–±–ª–µ–º–∞: Certificate validation timeout

**–†—ñ—à–µ–Ω–Ω—è:**

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ CNAME –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ Route53
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ Name Servers –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å DNS propagation
4. –Ø–∫—â–æ –ø—Ä–æ–±–ª–µ–º–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è, –≤–∏–¥–∞–ª—ñ—Ç—å —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç —ñ —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π:
   ```powershell
   terraform destroy -target=aws_acm_certificate.main
   terraform apply
   ```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è

- [ ] –ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ–º–µ–Ω (Freenom/eu.org)
- [ ] –û–Ω–æ–≤–ª–µ–Ω–æ `terraform.tfvars` –∑ –Ω–æ–≤–∏–º –¥–æ–º–µ–Ω–æ–º
- [ ] –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `create_route53_zone = true`
- [ ] –í–∏–∫–æ–Ω–∞–Ω–æ `terraform apply`
- [ ] –û—Ç—Ä–∏–º–∞–Ω–æ Name Servers –∑ terraform output
- [ ] –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ Name Servers —É —Ä–µ—î—Å—Ç—Ä–∞—Ç–æ—Ä—ñ –¥–æ–º–µ–Ω—É
- [ ] –î–æ—á–µ–∫–∞–ª–∏—Å—å DNS propagation (1-2 –≥–æ–¥–∏–Ω–∏)
- [ ] –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç ACM –º–∞—î —Å—Ç–∞—Ç—É—Å **Issued**
- [ ] HTTPS –ø—Ä–∞—Ü—é—î: `https://secretnick.tk`
- [ ] HTTP —Ä–µ–¥—ñ—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ HTTPS
- [ ] –ó–∞–º–æ–∫ üîí –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- [ ] SSL Labs —Ä–µ–π—Ç–∏–Ω–≥: **A** –∞–±–æ **A+**

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤ –≤–∏ –º–∞—Ç–∏–º–µ—Ç–µ:

‚úÖ **–ó–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–π –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –¥–æ–º–µ–Ω** –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é ACME/DNS validation  
‚úÖ **–î—ñ–π—Å–Ω–∏–π SSL/TLS —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç** –≤—ñ–¥ AWS Certificate Manager  
‚úÖ **Route53 DNS –∑–æ–Ω—É** –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –∑–∞–ø–∏—Å–∞–º–∏  
‚úÖ **HTTPS —Ç—Ä–∞—Ñ—ñ–∫** –º–∞—Ä—à—Ä—É—Ç–∏–∑—É—î—Ç—å—Å—è –¥–æ –≤–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–¥—ñ—Ä–µ–∫—Ç** –∑ HTTP –Ω–∞ HTTPS  
‚úÖ **A+ —Ä–µ–π—Ç–∏–Ω–≥** SSL Labs  

**–í–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Ç–µ–ø–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:**  
**https://secretnick.tk** üéâ

---

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [AWS Certificate Manager Documentation](https://docs.aws.amazon.com/acm/)
- [Route53 Documentation](https://docs.aws.amazon.com/route53/)
- [Freenom Documentation](https://www.freenom.com/en/support.html)
- [ACME Protocol (Let's Encrypt)](https://letsencrypt.org/docs/challenge-types/)
- [Terraform ACM Module](terraform/modules/06-dns-ssl/)

---

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞

ACM –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ **–∑–∞ 60 –¥–Ω—ñ–≤ –¥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É –¥—ñ—ó**. –ù—ñ—è–∫–∏—Ö –¥—ñ–π –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ!

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ expiration

```powershell
aws acm describe-certificate \
  --certificate-arn arn:aws:acm:region:account:certificate/xxx \
  --region eu-central-1
```

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –¥–æ–º–µ–Ω—ñ–≤

1. –û–Ω–æ–≤—ñ—Ç—å `subject_alternative_names` –≤ `terraform.tfvars`
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å `terraform apply`
3. –°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –±—É–¥–µ –ø–µ—Ä–µ–≤–∏–¥–∞–Ω–∏–π –∑ –Ω–æ–≤–∏–º–∏ –¥–æ–º–µ–Ω–∞–º–∏


