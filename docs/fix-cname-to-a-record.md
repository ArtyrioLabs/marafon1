# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: CNAME ‚Üí A –∑–∞–ø–∏—Å—å –¥–ª—è DuckDNS –≤ Cloudflare

## üì∏ –ê–Ω–∞–ª–∏–∑ –≤–∞—à–µ–π —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ:
- ‚úÖ CNAME –∑–∞–ø–∏—Å—å –¥–ª—è `secret-nick.duckdns.org` ‚Üí `app-alb-1868129411.eu-...`
- ‚úÖ Proxy status: **Proxied** (–æ—Ä–∞–Ω–∂–µ–≤–∞—è —Ö–º–∞—Ä–∫–∞) - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!
- ‚úÖ DuckDNS –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP: `3.124.207.23`

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

CNAME –∑–∞–ø–∏—Å—å –Ω–∞ ALB DNS –∏–º—è –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –¥–ª—è DuckDNS + Cloudflare **–ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å A –∑–∞–ø–∏—Å—å** —Å IP –∞–¥—Ä–µ—Å–æ–º –Ω–∞–ø—Ä—è–º—É—é. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –ë–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É SSL
- –õ—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ú–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º —Å DNS resolution

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –ó–∞–º–µ–Ω–∏—Ç—å CNAME –Ω–∞ A –∑–∞–ø–∏—Å—å

### –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç–µ CNAME –∑–∞–ø–∏—Å—å

1. –í Cloudflare Dashboard: **DNS** ‚Üí **Records**
2. –ù–∞–π–¥–∏—Ç–µ CNAME –∑–∞–ø–∏—Å—å –¥–ª—è `secret-nick.duckdns.org`
3. –ù–∞–∂–º–∏—Ç–µ **Edit** (–∏–ª–∏ –∏–∫–æ–Ω–∫—É –∫–∞—Ä–∞–Ω–¥–∞—à–∞)
4. –ù–∞–∂–º–∏—Ç–µ **Delete** –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ A –∑–∞–ø–∏—Å—å

1. –í —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ **DNS** ‚Üí **Records**
2. –ù–∞–∂–º–∏—Ç–µ **Add record**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Type:** `A`
   - **Name:** `@` (–∏–ª–∏ `secret-nick` - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ Cloudflare –≤–∏–¥–∏—Ç –≤–∞—à –¥–æ–º–µ–Ω)
   - **IPv4 address:** `3.124.207.23` (IP –∏–∑ DuckDNS)
   - **Proxy status:** ‚òÅÔ∏è **Proxied** (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Ä–∞–Ω–∂–µ–≤–∞—è —Ö–º–∞—Ä–∫–∞!)
   - **TTL:** `Auto`
4. –ù–∞–∂–º–∏—Ç–µ **Save**

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
```
Type: A
Name: @ (–∏–ª–∏ secret-nick)
Content: 3.124.207.23
Proxy status: ‚òÅÔ∏è Proxied  ‚Üê –û–†–ê–ù–ñ–ï–í–ê–Ø —Ö–º–∞—Ä–∫–∞!
TTL: Auto
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. –í Cloudflare: **SSL/TLS** ‚Üí **Overview**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º: **Full** (–∏–ª–∏ **Full (strict)**)
3. –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã–±–µ—Ä–∏—Ç–µ **Full** –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ

### –®–∞–≥ 4: –í–∫–ª—é—á–∏—Ç–µ Always Use HTTPS

1. –í Cloudflare: **SSL/TLS** ‚Üí **Edge Certificates**
2. –ù–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"Always Use HTTPS"**
3. –í–∫–ª—é—á–∏—Ç–µ –µ–≥–æ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–∏–Ω–∏–º)
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

---

## ‚è±Ô∏è –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-15 –º–∏–Ω—É—Ç

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. DNS –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å 5-15 –º–∏–Ω—É—Ç
2. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞: `Ctrl + Shift + Delete`
3. –û—Ç–∫—Ä–æ–π—Ç–µ `https://secret-nick.duckdns.org` –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: DNS Resolution

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ PowerShell:
```powershell
Resolve-DnsName secret-nick.duckdns.org
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è IP Cloudflare (104.x.x.x, 172.x.x.x, 198.x.x.x –∏–ª–∏ 141.x.x.x)
- –ù–ï –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `3.124.207.23` –Ω–∞–ø—Ä—è–º—É—é

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: HTTPS –¥–æ—Å—Ç—É–ø

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://secret-nick.duckdns.org
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–º–æ–∫ üîí –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- ‚úÖ –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è "–ù–µ –∑–∞—â–∏—â–µ–Ω–æ"
- ‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–¥–∞–Ω Cloudflare

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

```powershell
.\scripts\check-ssl-config.ps1 secret-nick.duckdns.org
```

---

## üêõ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞: DNS –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç IP ALB

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ A –∑–∞–ø–∏—Å—å –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å **Proxied** (–æ—Ä–∞–Ω–∂–µ–≤–∞—è —Ö–º–∞—Ä–∫–∞)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ 10-15 –º–∏–Ω—É—Ç
3. –û—á–∏—Å—Ç–∏—Ç–µ DNS –∫–µ—à:
   ```powershell
   ipconfig /flushdns
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Cloudflare –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É 521 –∏–ª–∏ 525

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ ALB –¥–æ—Å—Ç—É–ø–µ–Ω:
   ```powershell
   curl http://app-alb-1868129411.eu-central-1.elb.amazonaws.com
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Security Group ALB:
   - –ü–æ—Ä—Ç 80 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –¥–ª—è Cloudflare IP ranges
   - –î–æ–±–∞–≤—å—Ç–µ Cloudflare IP ranges: https://www.cloudflare.com/ips/

3. –ò–∑–º–µ–Ω–∏—Ç–µ SSL —Ä–µ–∂–∏–º –Ω–∞ **Full** (–Ω–µ strict)

### –ü—Ä–æ–±–ª–µ–º–∞: –ë—Ä–∞—É–∑–µ—Ä –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–µ –∑–∞—â–∏—â–µ–Ω–æ"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `https://` (–Ω–µ `http://`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 15-30 –º–∏–Ω—É—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üìã –ß–µ–∫–ª–∏—Å—Ç

- [ ] –£–¥–∞–ª–µ–Ω–∞ CNAME –∑–∞–ø–∏—Å—å
- [ ] –°–æ–∑–¥–∞–Ω–∞ A –∑–∞–ø–∏—Å—å —Å IP `3.124.207.23`
- [ ] A –∑–∞–ø–∏—Å—å –∏–º–µ–µ—Ç —Å—Ç–∞—Ç—É—Å **Proxied** (–æ—Ä–∞–Ω–∂–µ–≤–∞—è —Ö–º–∞—Ä–∫–∞)
- [ ] SSL —Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ **Full**
- [ ] **Always Use HTTPS** –≤–∫–ª—é—á–µ–Ω
- [ ] –ü–æ–¥–æ–∂–¥–∞–ª–∏ 5-15 –º–∏–Ω—É—Ç
- [ ] –û—á–∏—Å—Ç–∏–ª–∏ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —á–µ—Ä–µ–∑ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
- [ ] –ó–∞–º–æ–∫ üîí –ø–æ—è–≤–∏–ª—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ `https://secret-nick.duckdns.org` –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å SSL
- ‚úÖ –ó–∞–º–æ–∫ üîí –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "–ù–µ –∑–∞—â–∏—â–µ–Ω–æ" –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å
- ‚úÖ SSL —Ä–µ–π—Ç–∏–Ω–≥ –Ω–∞ ssllabs.com –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å A –∏–ª–∏ A+

