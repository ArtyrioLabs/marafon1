# üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ AWS Console

## –ü—Ä–æ–±–ª–µ–º–∞

Terraform –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
- ALB Listener –Ω–∞ –ø–æ—Ä—Ç—É 80
- ALB Listener –Ω–∞ –ø–æ—Ä—Ç—É 443
- Route53 A-–∑–∞–ø–∏—Å—å –¥–ª—è `sekret-nick.pp.ua`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –≤—Ä—É—á–Ω—É—é

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è Terraform —Å–æ–∑–¥–∞—Å—Ç –∏—Ö –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π.

---

## –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å ALB Listeners

### 1.1. –û—Ç–∫—Ä–æ–π—Ç–µ AWS Console

1. –í–æ–π–¥–∏—Ç–µ –≤ [AWS Console](https://console.aws.amazon.com)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ —Ä–µ–≥–∏–æ–Ω–µ **eu-central-1** (Frankfurt)

### 1.2. –ù–∞–π–¥–∏—Ç–µ Load Balancer

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **EC2** ‚Üí **Load Balancers**
2. –ù–∞–π–¥–∏—Ç–µ Load Balancer —Å –∏–º–µ–Ω–µ–º **`app-alb`**
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### 1.3. –£–¥–∞–ª–∏—Ç–µ Listeners

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Listeners**
2. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ listeners (–æ–±—ã—á–Ω–æ –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80, 443, 8080)

#### –£–¥–∞–ª–∏—Ç—å Listener –Ω–∞ –ø–æ—Ä—Ç—É 80:

1. –ù–∞–π–¥–∏—Ç–µ listener —Å **Port: 80**
2. –í—ã–¥–µ–ª–∏—Ç–µ –µ–≥–æ (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å —Å–ª–µ–≤–∞)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Actions** (–∏–ª–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏)
4. –í—ã–±–µ—Ä–∏—Ç–µ **Delete**
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

#### –£–¥–∞–ª–∏—Ç—å Listener –Ω–∞ –ø–æ—Ä—Ç—É 443:

1. –ù–∞–π–¥–∏—Ç–µ listener —Å **Port: 443**
2. –í—ã–¥–µ–ª–∏—Ç–µ –µ–≥–æ (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å —Å–ª–µ–≤–∞)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Actions** (–∏–ª–∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –º—ã—à–∏)
4. –í—ã–±–µ—Ä–∏—Ç–µ **Delete**
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–µ —É–¥–∞–ª—è–π—Ç–µ listener –Ω–∞ –ø–æ—Ä—Ç—É 8080 (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚Äî —ç—Ç–æ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π HTTP listener –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## –®–∞–≥ 2: –£–¥–∞–ª–∏—Ç—å Route53 A-–∑–∞–ø–∏—Å—å

### 2.1. –û—Ç–∫—Ä–æ–π—Ç–µ Route53

1. –í AWS Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Route 53**
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Hosted zones**

### 2.2. –ù–∞–π–¥–∏—Ç–µ Hosted Zone

1. –ù–∞–π–¥–∏—Ç–µ Hosted Zone –¥–ª—è **`sekret-nick.pp.ua`**
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### 2.3. –£–¥–∞–ª–∏—Ç–µ A-–∑–∞–ø–∏—Å—å

1. –í —Å–ø–∏—Å–∫–µ –∑–∞–ø–∏—Å–µ–π –Ω–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å:
   - **Name:** `sekret-nick.pp.ua` (–∏–ª–∏ `sekret-nick.pp.ua.`)
   - **Type:** `A`
   - **Alias:** –î–∞ (—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ ALB)

2. –í—ã–¥–µ–ª–∏—Ç–µ –∑–∞–ø–∏—Å—å (–∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å —Å–ª–µ–≤–∞)

3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Delete** (–≤–≤–µ—Ä—Ö—É –∏–ª–∏ –≤–Ω–∏–∑—É —Å–ø–∏—Å–∫–∞)

4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ:
   - –ü–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ù–∞–∂–º–∏—Ç–µ **Delete**

---

## –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å Terraform Apply

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ GitHub Actions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **Actions** ‚Üí **Infrastructure Deployment**
3. **Run workflow** ‚Üí **Apply**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç B: –õ–æ–∫–∞–ª—å–Ω–æ

```bash
cd terraform
terraform plan    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ
terraform apply    # –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã
```

---

## ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ

–ü–æ—Å–ª–µ `terraform apply` –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã:

1. **HTTP redirect listener** –Ω–∞ –ø–æ—Ä—Ç—É 80
   - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç HTTP ‚Üí HTTPS (301 redirect)

2. **HTTPS listener** –Ω–∞ –ø–æ—Ä—Ç—É 443
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - –ù–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –Ω–∞ target groups

3. **Route53 A-–∑–∞–ø–∏—Å—å**
   - –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ ALB
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω `sekret-nick.pp.ua`

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ listeners:**
   - EC2 ‚Üí Load Balancers ‚Üí `app-alb` ‚Üí Listeners
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å: –ø–æ—Ä—Ç 80 (redirect) –∏ –ø–æ—Ä—Ç 443 (HTTPS)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Route53:**
   - Route53 ‚Üí Hosted Zones ‚Üí `sekret-nick.pp.ua`
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å A-–∑–∞–ø–∏—Å—å –¥–ª—è `sekret-nick.pp.ua`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://sekret-nick.pp.ua` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–º–æ–∫ üîí
   - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ "–ù–µ –∑–∞—â–∏—â–µ–Ω–æ" –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ —É–¥–∞–ª—è–π—Ç–µ listener –Ω–∞ –ø–æ—Ä—Ç—É 8080** (–µ—Å–ª–∏ –µ—Å—Ç—å) ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π HTTP listener –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–£–¥–∞–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ listeners –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 80 –∏ 443** ‚Äî Terraform —Å–æ–∑–¥–∞—Å—Ç –∏—Ö –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

3. **–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è Route53 A-–∑–∞–ø–∏—Å–∏** —Å–∞–π—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, –ø–æ–∫–∞ Terraform –Ω–µ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å

4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç ACM –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º terraform apply:
   - Certificate Manager ‚Üí —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è `sekret-nick.pp.ua`
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **"Issued"**

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è terraform apply –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
   - Certificate Manager ‚Üí —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å "Issued"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Name Servers:**
   - nic.ua ‚Üí NS-—Å–µ—Ä–≤–µ—Ä–∏
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å Route53 Name Servers

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ terraform:**
   - GitHub Actions ‚Üí –≤–∞—à workflow ‚Üí —à–∞–≥ "Terraform Action"
   - –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ –≤—ã–≤–æ–¥–µ

---

## üìù –†–µ–∑—é–º–µ

1. ‚úÖ –£–¥–∞–ª–∏—Ç—å listener –Ω–∞ –ø–æ—Ä—Ç—É 80 —á–µ—Ä–µ–∑ EC2 Console
2. ‚úÖ –£–¥–∞–ª–∏—Ç—å listener –Ω–∞ –ø–æ—Ä—Ç—É 443 —á–µ—Ä–µ–∑ EC2 Console
3. ‚úÖ –£–¥–∞–ª–∏—Ç—å Route53 A-–∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ Route53 Console
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å `terraform apply`
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç `https://sekret-nick.pp.ua`

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å! üéâ

